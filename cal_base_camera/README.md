## cal_base_camera
カメラとベースの傾きによって生じたカメラの視野のずれをgnuplotで表示します。<br>
カメラとベースの傾きは独立して設定しています。<br>
原点をカメラの真上の天井として計算しています。<br>

## 実行方法
```
ruby cal_base_camera.rb
```
## 導出方法
### 傾きのない場合の視野導出
カメラの方向ベクトルをカメラの視野角に合わせて回転し、視野の四隅を表すベクトル作成<br>
作成したベクトルの始点をカメラの位置にして、ベクトルと天井の交点を導出<br>
### 傾きを踏まえた場合の視野導出
傾いた後のカメラとベースの方向ベクトルを導出<br>
ベースの位置(点)を基準としてカメラの位置(点)を回転し、傾いた後のカメラの位置を導出<br>
視野の四隅を表すベクトルの始点を原点とし、カメラの傾きの分だけ回転<br>
そのベクトルの視点を傾いた後のカメラの位置に移動<br>
ベクトルと天井の交点を導出<br>
### マーカーの位置導出
左右の割合、上下の割合を使ってベクトルと天井の交点に重みをつけて導出


## 変更箇所
|変数|内容|
|----|----|
|height_camera|天井からカメラの距離|
|height_base|天井からベースの距離|
|deg_fovh|カメラの視野角(水平)|
|deg_fovv|カメラの視野角(垂直)|
|ratioh|マーカーの画面内における水平割合(右上基準)|
|ratiov|マーカーの画面内における垂直割合(右上基準)|
|case_camera|カメラ方向を指定するとき、0はベクトル、1は角度を使用|
|camera|case_cameraが0の時<br>カメラの方向ベクトル|
|base|case_cameraが0の時<br>ベースの方向ベクトル|
|deg_azimuth|case_cameraが1の時<br>カメラの方位角(x軸正の方向反時計回り)|
|deg_zenith|case_cameraが1の時<br>カメラの天頂角|
|deg_base_azimuth|case_cameraが1の時<br>ベースの方位角(x軸正の方向反時計回り)|
|deg_base_zenith|case_cameraが1の時<br>ベースの天頂角|
